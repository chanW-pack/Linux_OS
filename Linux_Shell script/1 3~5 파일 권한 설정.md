# 1.3~5 파일 권한 설정

---

![Untitled](1%203~5%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%80%E1%85%AF%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%204d2a43ee255b4b66b221078ee3bd3fb0/Untitled.png)

![Untitled](1%203~5%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%80%E1%85%AF%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%204d2a43ee255b4b66b221078ee3bd3fb0/Untitled%201.png)

```bash
#! /bin/bash

TMP1=`sudo ls -la /etc | grep -v 'passwd-' | grep -w 'passwd' | awk -F " " '{print $1}'`
#echo $TMP1

echo -e [ /etc/passwd 파일 권한 설정 확인 중 ... ]
sleep 1s

if [ "$TMP1" == "-rw-r--r--" ] || [ "$TMP1" == "-r--r--r--" ] ; then
        sleep 1s
        echo -e "\033[32m" [ 양호] "\033[0m"
        echo -e "\033[32m" /etc/passwd 파일 권한 이상이 없습니다. "\033[0m"
        echo -e "\033[32m" 권한이 444 또는 644로 양호합니다. "\033[0m"
else
        sleep 1s
        echo -e "\033[31m" [ 취약] "\033[0m"
        echo -e "\033[31m" /etc/passwd 파일 권한이 보안 표준과 일치하지 않습니다. "\033[0m"
        sleep 1s
        echo -e "\033[31m `sudo ls -la /etc | grep -v 'passwd-' | grep -w 'passwd' `\033[0m"
        sleep 1s
        echo -e "\033[31m" /etc/passwd 파일 권한644 또는 444로 변경이 필요합니다.  "\033[0m"

fi

sleep 1s
echo [ /etc/passwd 권한 탐색이 완료되었습니다. ]
```

## 결과

---

해당 스크립트에서 탐색을 원하는 파일의 이름과 권한으로 변경하면 전부 적용 가능하다.

### 권한 표준 일치

![Untitled](1%203~5%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%80%E1%85%AF%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%204d2a43ee255b4b66b221078ee3bd3fb0/Untitled%202.png)

### 권한 표준 불일치

![Untitled](1%203~5%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%20%E1%84%80%E1%85%AF%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%204d2a43ee255b4b66b221078ee3bd3fb0/Untitled%203.png)

/etc/passwd 파일의 권한이 표준(644, 444)과 일치, 불일치를 탐색하는 기능이다.

---